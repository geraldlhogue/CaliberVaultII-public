
 RUN  v2.1.9 /Users/ghogue/Desktop/CaliberVaultII

 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should create team
 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should add team member
 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should list team members
 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should remove team member
 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should get teams
 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should update team
 âœ“ src/services/__tests__/team.service.test.ts > TeamService > should delete team
 âœ“ src/services/__tests__/barcode.service.test.ts > BarcodeService > should validate UPC format
 âœ“ src/services/__tests__/barcode.service.test.ts > BarcodeService > should validate EAN format
 âœ“ src/services/__tests__/barcode.service.test.ts > BarcodeService > should detect barcode type
 âœ“ src/services/__tests__/barcode.service.test.ts > BarcodeService > should track API usage
 âœ“ src/services/__tests__/barcode.service.test.ts > BarcodeService > should reset API counter
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates UPC-A format (12 digits)
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates UPC-E format (13 digits)
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > rejects invalid UPC formats
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates EAN-13 format
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > rejects invalid EAN formats
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > detects barcode types correctly
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Offline Mode > handles offline barcode lookup gracefully
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Offline Mode > returns cache miss when barcode not cached
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > API Usage Tracking > tracks API call count
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > API Usage Tracking > resets API counter
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Cache Management > gets cache statistics
 âœ“ src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Cache Management > clears cache
 âœ“ src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkCreate > should create multiple items successfully
 âœ“ src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkCreate > should handle partial failures
 âœ“ src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkDelete > should delete multiple items
 âœ“ src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkDuplicate > should duplicate items
stdout | src/services/__tests__/sync.service.test.ts > SyncService > should process queue successfully
[SyncService] Sync complete: { success: 0, failed: 0, conflicts: 0 }

stdout | src/services/__tests__/sync.service.test.ts > SyncService > should not process queue if already processing
[SyncService] Sync already in progress

 âœ“ src/services/inventory/__tests__/ModalIntegrationService.test.ts > ModalIntegrationService > saveItem > should route firearms to firearmsService
 âœ“ src/services/inventory/__tests__/ModalIntegrationService.test.ts > ModalIntegrationService > saveItem > should route ammunition to ammunitionService
 âœ“ src/services/inventory/__tests__/ModalIntegrationService.test.ts > ModalIntegrationService > updateItem > should update firearms correctly
 âœ“ src/services/__tests__/sync.service.test.ts > SyncService > should process queue successfully
 âœ“ src/services/__tests__/sync.service.test.ts > SyncService > should subscribe to sync status updates
 âœ“ src/services/__tests__/sync.service.test.ts > SyncService > should not process queue if already processing
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves firearm item successfully
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves ammunition item successfully
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > throws error for invalid category
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > getItems > retrieves all items for user
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > getItems > returns empty array when no items found
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > updateItem > updates item successfully
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > valuation methods > saves valuation successfully
 âœ“ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > valuation methods > gets valuation history
 âœ“ src/test/integration/data-migration.test.ts > Data Migration Validation > should have ammunition table with correct schema
 âœ“ src/test/integration/data-migration.test.ts > Data Migration Validation > should have bullets table with correct schema
 âœ“ src/test/integration/data-migration.test.ts > Data Migration Validation > should have magazines table
 âœ“ src/test/integration/data-migration.test.ts > Data Migration Validation > should have accessories table
 âœ“ src/test/integration/data-migration.test.ts > Data Migration Validation > should fetch all categories from categories table
 Ã— src/test/integration/data-migration.test.ts > Data Migration Validation > should create ammunition item successfully
   â†’ expected 'Test Item 1' to be 'Test Ammo' // Object.is equality
 Ã— src/test/integration/data-migration.test.ts > Data Migration Validation > should create magazine item successfully
   â†’ expected undefined to be 30 // Object.is equality
stdout | src/services/__tests__/categoryServices.test.ts > FirearmsService > should create a firearm using createFirearm method
[firearm_detailsService] Creating: {
  baseData: {
    name: 'Test Rifle',
    manufacturer_id: 'mfg123',
    model: 'TR-15',
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    firearm_type_id: undefined,
    serial_number: '123456',
    caliber_id: 'cal123',
    cartridge_id: undefined,
    barrel_length: undefined,
    overall_length: undefined,
    weight: undefined,
    capacity: undefined,
    action_id: undefined,
    finish: undefined,
    round_count: undefined,
    is_nfa: undefined,
    nfa_item_type: undefined,
    form_4_approved_date: undefined,
    tax_stamp_number: undefined
  }
}

 âœ“ src/services/__tests__/categoryServices.test.ts > FirearmsService > should create a firearm using createFirearm method
 âœ“ src/services/__tests__/categoryServices.test.ts > FirearmsService > should update a firearm using updateFirearm method
 âœ“ src/services/__tests__/categoryServices.test.ts > AmmunitionService > should create ammunition using createAmmunition method
stdout | src/services/__tests__/categoryServices.test.ts > AmmunitionService > should create ammunition using createAmmunition method
[ammunition_detailsService] Creating: {
  baseData: {
    name: 'Test Ammo',
    manufacturer_id: 'mfg123',
    model: undefined,
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    caliber_id: 'cal123',
    cartridge_id: undefined,
    bullet_type_id: undefined,
    bullet_weight: undefined,
    muzzle_velocity: undefined,
    rounds_per_box: undefined,
    is_reloaded: undefined,
    brass_condition: undefined
  }
}

stdout | src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should create firearm using createFirearm
[firearm_detailsService] Creating: {
  baseData: {
    name: 'Test Rifle',
    manufacturer_id: 'mfg123',
    model: 'TR-15',
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    firearm_type_id: undefined,
    serial_number: '123456',
    caliber_id: 'cal123',
    cartridge_id: undefined,
    barrel_length: undefined,
    overall_length: undefined,
    weight: undefined,
    capacity: undefined,
    action_id: undefined,
    finish: undefined,
    round_count: undefined,
    is_nfa: undefined,
    nfa_item_type: undefined,
    form_4_approved_date: undefined,
    tax_stamp_number: undefined
  }
}

stdout | src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should create ammunition using createAmmunition
[ammunition_detailsService] Creating: {
  baseData: {
    name: 'Test Ammo',
    manufacturer_id: 'mfg123',
    model: undefined,
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    caliber_id: 'cal123',
    cartridge_id: undefined,
    bullet_type_id: undefined,
    bullet_weight: undefined,
    muzzle_velocity: undefined,
    rounds_per_box: undefined,
    is_reloaded: undefined,
    brass_condition: undefined
  }
}

stdout | src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should create optic using createOptic
[optic_detailsService] Creating: {
  baseData: {
    name: 'Test Scope',
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    manufacturer_id: 'mfg123',
    model: 'SC-4X',
    magnification: '4x',
    objective_lens: undefined,
    reticle_type_id: undefined,
    turret_type_id: undefined,
    mounting_type_id: undefined,
    fov_id: undefined
  }
}

 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should create firearm using createFirearm
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should update firearm using updateFirearm
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should delete firearm
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should get firearm by id
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should create ammunition using createAmmunition
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should update ammunition using updateAmmunition
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should delete ammunition
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should create optic using createOptic
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should update optic using updateOptic
 âœ“ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should delete optic
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > returns all items when no filters applied
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters by category
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters by search query
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters by caliber
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > returns unique calibers
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > returns unique manufacturers
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > calculates max price correctly
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > handles empty inventory gracefully
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters with advanced price range
 âœ“ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > calculates active filter count
stdout | src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Firearms Service Integration > creates firearm with all fields
[firearm_detailsService] Creating: {
  baseData: {
    name: 'Test Rifle',
    manufacturer: 'Test Mfg',
    model: 'TR-15',
    caliber: '5.56mm',
    serial_number: 'TEST123',
    action_type: 'Semi-Auto',
    barrel_length: 16,
    overall_length: 36,
    weight: 7.5,
    capacity: 30
  },
  detailData: undefined
}

stdout | src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Ammunition Service Integration > creates ammunition with specifications
[ammunition_detailsService] Creating: {
  baseData: {
    name: 'Test Ammo',
    manufacturer: 'Test Ammo Co',
    caliber: '5.56mm',
    grain_weight: 55,
    bullet_type: 'FMJ',
    quantity: 1000,
    rounds_per_box: 20
  },
  detailData: undefined
}

 Ã— src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Firearms Service Integration > creates firearm with all fields
   â†’ Cannot read properties of undefined (reading 'insert')
 Ã— src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Ammunition Service Integration > creates ammunition with specifications
   â†’ Cannot read properties of undefined (reading 'insert')
 âœ“ src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Cross-Category Operations > links firearm with compatible ammunition
 Ã— src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > fetches inventory items via API
   â†’ expected [ â€¦(2) ] to deeply equal [ { id: '1', name: 'Item 1' }, â€¦(1) ]
 Ã— src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > creates item via API
   â†’ expected { success: true, â€¦(2) } to deeply equal { name: 'New Item', â€¦(1) }
 Ã— src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > handles API errors gracefully
   â†’ promise resolved "[ â€¦(2) ]" instead of rejecting
 Ã— src/test/integration/api.test.ts > API Integration Tests > Real-time Subscriptions > subscribes to inventory changes
   â†’ expected "spy" to be called at least once
 âœ“ src/test/integration/api.test.ts > API Integration Tests > Batch Operations > performs batch insert
 âœ“ src/components/__tests__/PhotoCapture.test.tsx > PhotoCapture > renders photo capture dialog
 âœ“ src/components/__tests__/PhotoCapture.test.tsx > PhotoCapture > calls onClose when close button clicked
 âœ“ src/components/__tests__/PhotoCapture.test.tsx > PhotoCapture > initializes camera on mount
 âœ“ src/services/__tests__/inventory.service.test.ts > InventoryService > should save firearm item
 âœ“ src/services/__tests__/inventory.service.test.ts > InventoryService > should handle lowercase category names
stdout | src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should create ammunition with correct fields
[ammunition_detailsService] Creating: {
  baseData: { name: 'Test Ammo', manufacturer_id: 'mfg-456' },
  detailData: { caliber_id: 'cal-456', bullet_weight: 115 }
}

 âœ“ src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should create ammunition with correct fields
 âœ“ src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should handle bullet weight
stdout | src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should handle bullet weight
[ammunition_detailsService] Creating: { baseData: { name: 'Test Ammo' }, detailData: { bullet_weight: 115 } }

stdout | src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should create firearm with correct fields
[firearm_detailsService] Creating: {
  baseData: { name: 'Test Rifle', manufacturer_id: 'mfg-123' },
  detailData: { serial_number: '123456', caliber_id: 'cal-123' }
}

 âœ“ src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should create firearm with correct fields
 âœ“ src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should handle serial numbers
stdout | src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should handle serial numbers
[firearm_detailsService] Creating: {
  baseData: { name: 'Test Pistol' },
  detailData: { serial_number: 'ABC123' }
}

 âœ“ src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > validates row with all required fields
 âœ“ src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > rejects row with missing required fields
 âœ“ src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > validates numeric fields
 âœ“ src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVHeaders > validates correct headers
 âœ“ src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVHeaders > rejects missing required headers
 âœ“ src/services/__tests__/reference.service.test.ts > ReferenceDataService > getManufacturers > fetches manufacturers
 âœ“ src/services/__tests__/reference.service.test.ts > ReferenceDataService > getCalibers > fetches calibers
 âœ“ src/services/__tests__/reference.service.test.ts > ReferenceDataService > addManufacturer > adds new manufacturer
 âœ“ src/services/category/__tests__/AllCategories.test.ts > All Category Services > firearms service is defined
 âœ“ src/services/category/__tests__/AllCategories.test.ts > All Category Services > ammunition service is defined
 âœ“ src/services/category/__tests__/AllCategories.test.ts > All Category Services > optics service is defined
 âœ“ src/services/category/__tests__/AllCategories.test.ts > All Category Services > all services have create method
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validateEmail > validates correct email
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validateEmail > rejects invalid email
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validatePhone > validates US phone number
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validatePhone > rejects invalid phone
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validateURL > validates correct URL
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validateURL > rejects invalid URL
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validateRequired > validates non-empty value
 âœ“ src/lib/__tests__/validation.test.ts > validation utilities > validateRequired > rejects empty value
 Ã— src/services/__tests__/storage.service.test.ts > StorageService > uploadFile > uploads file successfully
   â†’ Cannot read properties of undefined (reading 'getSession')
 âœ“ src/services/__tests__/storage.service.test.ts > StorageService > deleteFile > deletes file successfully
 âœ“ src/services/__tests__/storage.service.test.ts > StorageService > listFiles > lists files successfully
 âœ“ src/components/__tests__/SmartInstallPrompt.test.tsx > SmartInstallPrompt > renders install prompt
 âœ“ src/components/__tests__/SmartInstallPrompt.test.tsx > SmartInstallPrompt > handles PWA install event
 âœ“ src/components/__tests__/AIValuationModal.test.tsx > AIValuationModal Tests > renders valuation modal
 âœ“ src/components/__tests__/AIValuationModal.test.tsx > AIValuationModal Tests > handles modal close
 âœ“ src/components/__tests__/ItemCard.test.tsx > ItemCard Component > renders item information
 âœ“ src/components/__tests__/ItemCard.test.tsx > ItemCard Component > accepts callback functions
 Ã— src/hooks/__tests__/useSubscription.test.ts > useSubscription > returns subscription data with tier pro 1015ms
   â†’ expected true to be false // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > renders inventory dashboard
   â†’ Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
 Ã— src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > handles inventory operations
   â†’ Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
 Ã— src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render when open
   â†’ expected null to be truthy
 âœ“ src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should not render when closed
 âœ“ src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render modal component
 âœ“ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > parses valid CSV data
 âœ“ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > handles empty CSV
 âœ“ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > handles CSV with headers only
 âœ“ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > handles quoted values
 âœ“ src/utils/__tests__/csvParser.test.ts > csvParser > generateCSVTemplate > generates template with headers
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > formats USD currency
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > handles zero
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > handles negative values
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatDate > formats date string
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatDate > handles invalid date
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatNumber > formats large numbers with commas
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatNumber > handles decimals
 âœ“ src/lib/__tests__/formatters.test.ts > formatters > formatPercentage > formats percentage
 âœ“ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > validateUPC > validates correct UPC-A codes
 âœ“ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > validateUPC > rejects invalid UPC codes
 âœ“ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > validateUPC > rejects UPC with wrong check digit
 âœ“ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > formatBarcode > formats barcode with spaces
 âœ“ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > formatBarcode > handles empty input
 âœ“ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > generateCheckDigit > generates correct check digit
 âœ“ src/hooks/__tests__/useInventoryFilters.enhanced.test.ts > useInventoryFilters Enhanced > handles complex filter combinations
 âœ“ src/hooks/__tests__/useInventoryFilters.enhanced.test.ts > useInventoryFilters Enhanced > persists filter state
 âœ“ src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > fetches inventory items
 âœ“ src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > creates new item via API
 âœ“ src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > handles API errors
 âœ“ src/services/security/__tests__/SecurityService.test.ts > SecurityService > logSecurityEvent > logs security event successfully
 âœ“ src/services/security/__tests__/SecurityService.test.ts > SecurityService > checkPermission > checks user permission
 âœ“ src/services/__tests__/reports.service.test.ts > ReportService > should generate inventory summary report
 âœ“ src/services/__tests__/reports.service.test.ts > ReportService > should generate category breakdown report
 âœ“ src/services/__tests__/reports.service.test.ts > ReportService > should generate value report
 Ã— src/components/__tests__/SmartInstallPrompt.test.tsx > SmartInstallPrompt > shows install button when prompt is available 1006ms
   â†’ expected null to be truthy

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 âœ“ src/components/__tests__/FeedbackSystem.test.tsx > FeedbackSystem > renders feedback modal
 âœ“ src/components/__tests__/FeedbackSystem.test.tsx > FeedbackSystem > handles feedback submission
 Ã— src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > renders modal with all features
   â†’ Cannot read properties of undefined (reading 'onAuthStateChange')
 Ã— src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > handles form validation
   â†’ Cannot read properties of undefined (reading 'onAuthStateChange')
 Ã— src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > supports all categories
   â†’ Cannot read properties of undefined (reading 'onAuthStateChange')
 âœ“ src/components/__tests__/DatabaseMigrationSystem.test.tsx > DatabaseMigrationSystem > renders migration system
 âœ“ src/components/__tests__/DatabaseMigrationSystem.test.tsx > DatabaseMigrationSystem > handles migration operations
 Ã— src/hooks/__tests__/useSubscription.test.ts > useSubscription > has hasFeature function that returns true 1078ms
   â†’ expected true to be false // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 âœ“ src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > renders feature guard
 âœ“ src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > enforces tier limits
 âœ“ src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > renders filter panel
 âœ“ src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > accepts filter changes
 Ã— src/lib/__tests__/errorHandler.test.ts > ErrorHandler > handles errors gracefully
   â†’ handleError is not a function
 Ã— src/lib/__tests__/errorHandler.test.ts > ErrorHandler > logs errors
   â†’ ErrorHandler is not a constructor
 Ã— src/lib/__tests__/errorHandler.test.ts > ErrorHandler > categorizes errors
   â†’ ErrorHandler is not a constructor
 âœ“ src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > initializes sync state
 âœ“ src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > handles offline mode
 âœ“ src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > queues offline changes
 âœ“ src/components/__tests__/EnhancedBulkImport.test.tsx > EnhancedBulkImport > renders bulk import component
 âœ“ src/components/__tests__/EnhancedBulkImport.test.tsx > EnhancedBulkImport > handles file upload
 âœ“ src/hooks/__tests__/usePullToRefresh.test.ts > usePullToRefresh > initializes pull to refresh
 âœ“ src/hooks/__tests__/usePullToRefresh.test.ts > usePullToRefresh > handles refresh callback
 âœ“ src/hooks/__tests__/usePullToRefresh.test.ts > usePullToRefresh > tracks pull state
 âœ“ src/components/__tests__/MobileBarcodeScanner.test.tsx > MobileBarcodeScanner > renders barcode scanner
 âœ“ src/components/__tests__/MobileBarcodeScanner.test.tsx > MobileBarcodeScanner > handles scan callback
 âœ“ src/hooks/__tests__/useSwipeGesture.test.ts > useSwipeGesture > initializes swipe gesture
 âœ“ src/hooks/__tests__/useSwipeGesture.test.ts > useSwipeGesture > handles swipe callback
 âœ“ src/hooks/__tests__/useSwipeGesture.test.ts > useSwipeGesture > detects swipe direction
 âœ“ src/components/__tests__/SyncStatusDashboard.test.tsx > SyncStatusDashboard > renders sync dashboard
 âœ“ src/components/__tests__/SyncStatusDashboard.test.tsx > SyncStatusDashboard > displays sync status
 Ã— src/hooks/__tests__/useSubscription.test.ts > useSubscription > returns defined limits 1162ms
   â†’ expected true to be false // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 Ã— src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > initializes cache manager 10009ms
   â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ã— src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > caches barcode data 10002ms
   â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ã— src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > retrieves cached data 10001ms
   â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ã— src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > returns null for non-existent barcode 10002ms
   â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ã— src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > clears all cache 10002ms
   â†’ Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".

 Test Files  11 failed | 37 passed (48)
      Tests  27 failed | 163 passed (190)
   Start at  18:16:18
   Duration  51.83s (transform 1.01s, setup 5.01s, collect 5.50s, tests 54.82s, environment 23.53s, prepare 3.17s)

