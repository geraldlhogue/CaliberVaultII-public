
 RUN  v2.1.9 /Users/ghogue/Desktop/CaliberVaultII

 × src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkCreate > should create multiple items successfully
   → [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

 × src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkCreate > should handle partial failures
   → [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

 × src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkDelete > should delete multiple items
   → [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

 × src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkDuplicate > should duplicate items
   → [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates UPC-A format (12 digits)
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates UPC-E format (13 digits)
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > rejects invalid UPC formats
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates EAN-13 format
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > rejects invalid EAN formats
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > detects barcode types correctly
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Offline Mode > handles offline barcode lookup gracefully
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Offline Mode > returns cache miss when barcode not cached
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > API Usage Tracking > tracks API call count
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > API Usage Tracking > resets API counter
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Cache Management > gets cache statistics
   → BarcodeService.getInstance is not a function
 × src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Cache Management > clears cache
   → BarcodeService.getInstance is not a function
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should create team
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should add team member
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should list team members
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should remove team member
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should get teams
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should update team
 ✓ src/services/__tests__/team.service.test.ts > TeamService > should delete team
 ✓ src/services/__tests__/barcode.service.test.ts > BarcodeService > should validate UPC format
 ✓ src/services/__tests__/barcode.service.test.ts > BarcodeService > should validate EAN format
 ✓ src/services/__tests__/barcode.service.test.ts > BarcodeService > should detect barcode type
 ✓ src/services/__tests__/barcode.service.test.ts > BarcodeService > should track API usage
 ✓ src/services/__tests__/barcode.service.test.ts > BarcodeService > should reset API counter
 ✓ src/test/integration/data-migration.test.ts > Data Migration Validation > should have ammunition table with correct schema
 ✓ src/test/integration/data-migration.test.ts > Data Migration Validation > should have bullets table with correct schema
 ✓ src/test/integration/data-migration.test.ts > Data Migration Validation > should have magazines table
 ✓ src/test/integration/data-migration.test.ts > Data Migration Validation > should have accessories table
 × src/test/integration/data-migration.test.ts > Data Migration Validation > should fetch all categories from categories table
   → expected 1 to be greater than or equal to 12
 × src/test/integration/data-migration.test.ts > Data Migration Validation > should create ammunition item successfully
   → expected undefined to be 'Test Ammo' // Object.is equality
 × src/test/integration/data-migration.test.ts > Data Migration Validation > should create magazine item successfully
   → expected undefined to be 30 // Object.is equality
stdout | src/services/__tests__/categoryServices.test.ts > FirearmsService > should create a firearm using createFirearm method
[firearm_detailsService] Creating: {
  baseData: {
    name: 'Test Rifle',
    manufacturer_id: 'mfg123',
    model: 'TR-15',
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    firearm_type_id: undefined,
    serial_number: '123456',
    caliber_id: 'cal123',
    cartridge_id: undefined,
    barrel_length: undefined,
    overall_length: undefined,
    weight: undefined,
    capacity: undefined,
    action_id: undefined,
    finish: undefined,
    round_count: undefined,
    is_nfa: undefined,
    nfa_item_type: undefined,
    form_4_approved_date: undefined,
    tax_stamp_number: undefined
  }
}

 × src/services/__tests__/categoryServices.test.ts > FirearmsService > should create a firearm using createFirearm method
   → Failed to create inventory item: undefined
 × src/services/__tests__/categoryServices.test.ts > FirearmsService > should update a firearm using updateFirearm method
   → supabase.from(...).update is not a function
 × src/services/__tests__/categoryServices.test.ts > AmmunitionService > should create ammunition using createAmmunition method
   → Failed to create inventory item: undefined
stdout | src/services/__tests__/categoryServices.test.ts > AmmunitionService > should create ammunition using createAmmunition method
[ammunition_detailsService] Creating: {
  baseData: {
    name: 'Test Ammo',
    manufacturer_id: 'mfg123',
    model: undefined,
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    caliber_id: 'cal123',
    cartridge_id: undefined,
    bullet_type_id: undefined,
    bullet_weight: undefined,
    muzzle_velocity: undefined,
    rounds_per_box: undefined,
    is_reloaded: undefined,
    brass_condition: undefined
  }
}

stdout | src/services/__tests__/sync.service.test.ts > SyncService > should process queue successfully
[SyncService] Sync complete: { success: 0, failed: 0, conflicts: 0 }

stdout | src/services/__tests__/sync.service.test.ts > SyncService > should not process queue if already processing
[SyncService] Sync already in progress

 ✓ src/services/__tests__/sync.service.test.ts > SyncService > should process queue successfully
 ✓ src/services/__tests__/sync.service.test.ts > SyncService > should subscribe to sync status updates
 ✓ src/services/__tests__/sync.service.test.ts > SyncService > should not process queue if already processing
stdout | src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should create firearm using createFirearm
[firearm_detailsService] Creating: {
  baseData: {
    name: 'Test Rifle',
    manufacturer_id: 'mfg123',
    model: 'TR-15',
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    firearm_type_id: undefined,
    serial_number: '123456',
    caliber_id: 'cal123',
    cartridge_id: undefined,
    barrel_length: undefined,
    overall_length: undefined,
    weight: undefined,
    capacity: undefined,
    action_id: undefined,
    finish: undefined,
    round_count: undefined,
    is_nfa: undefined,
    nfa_item_type: undefined,
    form_4_approved_date: undefined,
    tax_stamp_number: undefined
  }
}

stdout | src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should create ammunition using createAmmunition
[ammunition_detailsService] Creating: {
  baseData: {
    name: 'Test Ammo',
    manufacturer_id: 'mfg123',
    model: undefined,
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    caliber_id: 'cal123',
    cartridge_id: undefined,
    bullet_type_id: undefined,
    bullet_weight: undefined,
    muzzle_velocity: undefined,
    rounds_per_box: undefined,
    is_reloaded: undefined,
    brass_condition: undefined
  }
}

stdout | src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should create optic using createOptic
[optic_detailsService] Creating: {
  baseData: {
    name: 'Test Scope',
    quantity: 1,
    purchase_date: undefined,
    purchase_price: undefined,
    current_value: undefined,
    storage_location_id: undefined,
    notes: undefined,
    image_url: undefined
  },
  detailData: {
    manufacturer_id: 'mfg123',
    model: 'SC-4X',
    magnification: '4x',
    objective_lens: undefined,
    reticle_type_id: undefined,
    turret_type_id: undefined,
    mounting_type_id: undefined,
    fov_id: undefined
  }
}

 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should create firearm using createFirearm
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should update firearm using updateFirearm
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should delete firearm
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > FirearmsService > should get firearm by id
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should create ammunition using createAmmunition
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should update ammunition using updateAmmunition
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > AmmunitionService > should delete ammunition
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should create optic using createOptic
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should update optic using updateOptic
 ✓ src/services/__tests__/categoryServices.comprehensive.test.ts > Category Services - Comprehensive Tests > OpticsService > should delete optic
stderr | src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves firearm item successfully
Save item error: TypeError: Cannot read properties of null (reading 'id')
    at InventoryService.saveItem (/Users/ghogue/Desktop/CaliberVaultII/src/services/inventory.service.ts:46:53)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at /Users/ghogue/Desktop/CaliberVaultII/src/services/__tests__/inventory.service.enhanced.test.ts:66:22
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves ammunition item successfully
Save item error: TypeError: Cannot read properties of null (reading 'id')
    at InventoryService.saveItem (/Users/ghogue/Desktop/CaliberVaultII/src/services/inventory.service.ts:46:53)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at /Users/ghogue/Desktop/CaliberVaultII/src/services/__tests__/inventory.service.enhanced.test.ts:81:22
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > throws error for invalid category
Save item error: TypeError: Cannot read properties of null (reading 'id')
    at InventoryService.saveItem (/Users/ghogue/Desktop/CaliberVaultII/src/services/inventory.service.ts:46:53)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at /Users/ghogue/Desktop/CaliberVaultII/src/services/__tests__/inventory.service.enhanced.test.ts:94:7
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:1271:3)

 × src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves firearm item successfully
   → Cannot read properties of null (reading 'id')
 × src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves ammunition item successfully
   → Cannot read properties of null (reading 'id')
 ✓ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > throws error for invalid category
 × src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > getItems > retrieves all items for user
   → expected [] to deeply equal [ …(2) ]
 ✓ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > getItems > returns empty array when no items found
 ✓ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > updateItem > updates item successfully
 ✓ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > valuation methods > saves valuation successfully
 ✓ src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > valuation methods > gets valuation history
 ✓ src/services/__tests__/inventory.service.test.ts > InventoryService > should save firearm item
 ✓ src/services/__tests__/inventory.service.test.ts > InventoryService > should handle lowercase category names
stdout | src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Firearms Service Integration > creates firearm with all fields
[firearm_detailsService] Creating: {
  baseData: {
    name: 'Test Rifle',
    manufacturer: 'Test Mfg',
    model: 'TR-15',
    caliber: '5.56mm',
    serial_number: 'TEST123',
    action_type: 'Semi-Auto',
    barrel_length: 16,
    overall_length: 36,
    weight: 7.5,
    capacity: 30
  },
  detailData: undefined
}

stderr | src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Firearms Service Integration > creates firearm with all fields
❌ Operation Failed: {
  timestamp: '2025-11-09T23:23:38.210Z',
  operation: 'Database insert on inventory',
  component: '[firearm_detailsService]',
  userId: undefined,
  error: {
    message: "Cannot read properties of undefined (reading 'insert')",
    code: undefined,
    details: undefined,
    hint: undefined,
    stack: "TypeError: Cannot read properties of undefined (reading 'insert')\n" +
      '    at __vite_ssr_import_1__.withDatabaseErrorHandling.operation (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:23:26)\n' +
      '    at __vite_ssr_import_0__.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:22:35)\n' +
      '    at ErrorHandler.handleOperation (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:40:26)\n' +
      '    at Module.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:153:23)\n' +
      '    at Module.withDatabaseErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:21:24)\n' +
      '    at FirearmsService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:21:29)\n' +
      '    at /Users/ghogue/Desktop/CaliberVaultII/src/test/integration/comprehensive-categories.test.ts:37:36\n' +
      '    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:146:14\n' +
      '    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:11\n' +
      '    at runWithTimeout (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:39:7)'
  },
  dataState: {
    name: 'Test Rifle',
    manufacturer: 'Test Mfg',
    model: 'TR-15',
    caliber: '5.56mm',
    serial_number: 'TEST123',
    action_type: 'Semi-Auto',
    barrel_length: 16,
    overall_length: 36,
    weight: 7.5,
    capacity: 30
  },
  url: 'http://localhost:3000/',
  userAgent: 'Mozilla/5.0 (darwin) AppleWebKit/537.36 (KHTML, like Gecko) jsdom/25.0.1'
}
Error occurred: {
  context: 'Database insert on inventory',
  technical: TypeError: Cannot read properties of undefined (reading 'insert')
      at __vite_ssr_import_1__.withDatabaseErrorHandling.operation (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:23:26)
      at __vite_ssr_import_0__.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:22:35)
      at ErrorHandler.handleOperation (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:40:26)
      at Module.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:153:23)
      at Module.withDatabaseErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:21:24)
      at FirearmsService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:21:29)
      at /Users/ghogue/Desktop/CaliberVaultII/src/test/integration/comprehensive-categories.test.ts:37:36
      at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:146:14
      at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:11
      at runWithTimeout (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:39:7),
  userFriendly: {
    title: 'Something Went Wrong',
    message: "Cannot read properties of undefined (reading 'insert')",
    action: 'Please try again. If the problem persists, contact support.'
  },
  timestamp: '2025-11-09T23:23:38.213Z'
}

stdout | src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Ammunition Service Integration > creates ammunition with specifications
[ammunition_detailsService] Creating: {
  baseData: {
    name: 'Test Ammo',
    manufacturer: 'Test Ammo Co',
    caliber: '5.56mm',
    grain_weight: 55,
    bullet_type: 'FMJ',
    quantity: 1000,
    rounds_per_box: 20
  },
  detailData: undefined
}

stderr | src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Ammunition Service Integration > creates ammunition with specifications
❌ Operation Failed: {
  timestamp: '2025-11-09T23:23:38.214Z',
  operation: 'Database insert on inventory',
  component: '[ammunition_detailsService]',
  userId: undefined,
  error: {
    message: "Cannot read properties of undefined (reading 'insert')",
    code: undefined,
    details: undefined,
    hint: undefined,
    stack: "TypeError: Cannot read properties of undefined (reading 'insert')\n" +
      '    at __vite_ssr_import_1__.withDatabaseErrorHandling.operation (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:23:26)\n' +
      '    at __vite_ssr_import_0__.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:22:35)\n' +
      '    at ErrorHandler.handleOperation (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:40:26)\n' +
      '    at Module.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:153:23)\n' +
      '    at Module.withDatabaseErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:21:24)\n' +
      '    at AmmunitionService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:21:29)\n' +
      '    at /Users/ghogue/Desktop/CaliberVaultII/src/test/integration/comprehensive-categories.test.ts:61:36\n' +
      '    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:146:14\n' +
      '    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:11\n' +
      '    at runWithTimeout (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:39:7)'
  },
  dataState: {
    name: 'Test Ammo',
    manufacturer: 'Test Ammo Co',
    caliber: '5.56mm',
    grain_weight: 55,
    bullet_type: 'FMJ',
    quantity: 1000,
    rounds_per_box: 20
  },
  url: 'http://localhost:3000/',
  userAgent: 'Mozilla/5.0 (darwin) AppleWebKit/537.36 (KHTML, like Gecko) jsdom/25.0.1'
}
Error occurred: {
  context: 'Database insert on inventory',
  technical: TypeError: Cannot read properties of undefined (reading 'insert')
      at __vite_ssr_import_1__.withDatabaseErrorHandling.operation (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:23:26)
      at __vite_ssr_import_0__.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:22:35)
      at ErrorHandler.handleOperation (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:40:26)
      at Module.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:153:23)
      at Module.withDatabaseErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:21:24)
      at AmmunitionService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:21:29)
      at /Users/ghogue/Desktop/CaliberVaultII/src/test/integration/comprehensive-categories.test.ts:61:36
      at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:146:14
      at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:11
      at runWithTimeout (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:39:7),
  userFriendly: {
    title: 'Something Went Wrong',
    message: "Cannot read properties of undefined (reading 'insert')",
    action: 'Please try again. If the problem persists, contact support.'
  },
  timestamp: '2025-11-09T23:23:38.214Z'
}

 × src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Firearms Service Integration > creates firearm with all fields
   → Failed to create inventory item: Cannot read properties of undefined (reading 'insert')
 × src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Ammunition Service Integration > creates ammunition with specifications
   → Failed to create inventory item: Cannot read properties of undefined (reading 'insert')
 ✓ src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Cross-Category Operations > links firearm with compatible ammunition
 ✓ src/services/inventory/__tests__/ModalIntegrationService.test.ts > ModalIntegrationService > saveItem > should route firearms to firearmsService
 ✓ src/services/inventory/__tests__/ModalIntegrationService.test.ts > ModalIntegrationService > saveItem > should route ammunition to ammunitionService
 ✓ src/services/inventory/__tests__/ModalIntegrationService.test.ts > ModalIntegrationService > updateItem > should update firearms correctly
stdout | src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > creates item via API
[firearm_detailsService] Creating: { baseData: undefined, detailData: undefined }

stderr | src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > creates item via API
❌ Operation Failed: {
  timestamp: '2025-11-09T23:23:38.388Z',
  operation: 'Database insert on inventory',
  component: '[firearm_detailsService]',
  userId: undefined,
  error: {
    message: "Cannot read properties of undefined (reading 'insert')",
    code: undefined,
    details: undefined,
    hint: undefined,
    stack: "TypeError: Cannot read properties of undefined (reading 'insert')\n" +
      '    at __vite_ssr_import_1__.withDatabaseErrorHandling.operation (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:23:26)\n' +
      '    at __vite_ssr_import_0__.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:22:35)\n' +
      '    at ErrorHandler.handleOperation (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:40:26)\n' +
      '    at Module.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:153:23)\n' +
      '    at Module.withDatabaseErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:21:24)\n' +
      '    at FirearmsService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:21:29)\n' +
      '    at InventoryAPIService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/api/InventoryAPIService.ts:98:34)\n' +
      '    at /Users/ghogue/Desktop/CaliberVaultII/src/test/integration/api.test.ts:39:39\n' +
      '    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:146:14\n' +
      '    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:11'
  },
  dataState: undefined,
  url: 'http://localhost:3000/',
  userAgent: 'Mozilla/5.0 (darwin) AppleWebKit/537.36 (KHTML, like Gecko) jsdom/25.0.1'
}
Error occurred: {
  context: 'Database insert on inventory',
  technical: TypeError: Cannot read properties of undefined (reading 'insert')
      at __vite_ssr_import_1__.withDatabaseErrorHandling.operation (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:23:26)
      at __vite_ssr_import_0__.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:22:35)
      at ErrorHandler.handleOperation (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:40:26)
      at Module.withErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/errorHandler.ts:153:23)
      at Module.withDatabaseErrorHandling (/Users/ghogue/Desktop/CaliberVaultII/src/lib/databaseErrorHandler.ts:21:24)
      at FirearmsService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/base/BaseCategoryServiceEnhanced.ts:21:29)
      at InventoryAPIService.create (/Users/ghogue/Desktop/CaliberVaultII/src/services/api/InventoryAPIService.ts:98:34)
      at /Users/ghogue/Desktop/CaliberVaultII/src/test/integration/api.test.ts:39:39
      at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:146:14
      at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@vitest/runner/dist/index.js:533:11,
  userFriendly: {
    title: 'Something Went Wrong',
    message: "Cannot read properties of undefined (reading 'insert')",
    action: 'Please try again. If the problem persists, contact support.'
  },
  timestamp: '2025-11-09T23:23:38.389Z'
}

 × src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > fetches inventory items via API
   → apiService.getAll is not a function
 × src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > creates item via API
   → expected { success: false, …(1) } to deeply equal { name: 'New Item', …(1) }
 × src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > handles API errors gracefully
   → apiService.getAll is not a function
 × src/test/integration/api.test.ts > API Integration Tests > Real-time Subscriptions > subscribes to inventory changes
   → Cannot read properties of undefined (reading 'mockReturnValue')
 × src/test/integration/api.test.ts > API Integration Tests > Batch Operations > performs batch insert
   → apiService.batchCreate is not a function
 × src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > validates row with all required fields
   → Cannot convert undefined or null to object
 × src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > rejects row with missing required fields
   → Cannot convert undefined or null to object
 × src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > validates numeric fields
   → expected undefined to be false // Object.is equality
 × src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVHeaders > validates correct headers
   → validateCSVHeaders is not a function
 × src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVHeaders > rejects missing required headers
   → validateCSVHeaders is not a function
stdout | src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should create firearm with correct fields
[firearm_detailsService] Creating: {
  baseData: { name: 'Test Rifle', manufacturer_id: 'mfg-123' },
  detailData: { serial_number: '123456', caliber_id: 'cal-123' }
}

stdout | src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should handle serial numbers
[firearm_detailsService] Creating: {
  baseData: { name: 'Test Pistol' },
  detailData: { serial_number: 'ABC123' }
}

stdout | src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should create ammunition with correct fields
[ammunition_detailsService] Creating: {
  baseData: { name: 'Test Ammo', manufacturer_id: 'mfg-456' },
  detailData: { caliber_id: 'cal-456', bullet_weight: 115 }
}

 × src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should create firearm with correct fields
   → Failed to create inventory item: undefined
 × src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should handle serial numbers
   → Failed to create inventory item: undefined
 × src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should create ammunition with correct fields
   → Failed to create inventory item: undefined
 × src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should handle bullet weight
   → Failed to create inventory item: undefined
stdout | src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should handle bullet weight
[ammunition_detailsService] Creating: { baseData: { name: 'Test Ammo' }, detailData: { bullet_weight: 115 } }

 ✓ src/services/category/__tests__/AllCategories.test.ts > All Category Services > firearms service is defined
 ✓ src/services/category/__tests__/AllCategories.test.ts > All Category Services > ammunition service is defined
 ✓ src/services/category/__tests__/AllCategories.test.ts > All Category Services > optics service is defined
 ✓ src/services/category/__tests__/AllCategories.test.ts > All Category Services > all services have create method
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > returns all items when no filters applied
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters by category
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters by search query
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters by caliber
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > returns unique calibers
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > returns unique manufacturers
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > calculates max price correctly
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > handles empty inventory gracefully
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > filters with advanced price range
 ✓ src/hooks/__tests__/useInventoryFilters.test.ts > useInventoryFilters > calculates active filter count
 ✓ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > parses valid CSV data
 ✓ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > handles empty CSV
 ✓ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > handles CSV with headers only
 ✓ src/utils/__tests__/csvParser.test.ts > csvParser > parseCSV > handles quoted values
 × src/utils/__tests__/csvParser.test.ts > csvParser > generateCSVTemplate > generates template with headers
   → generateCSVTemplate is not a function
 ✓ src/services/__tests__/reference.service.test.ts > ReferenceDataService > getManufacturers > fetches manufacturers
 ✓ src/services/__tests__/reference.service.test.ts > ReferenceDataService > getCalibers > fetches calibers
 × src/services/__tests__/reference.service.test.ts > ReferenceDataService > addManufacturer > adds new manufacturer
   → promise rejected "TypeError: supabase…" instead of resolving
 × src/services/__tests__/storage.service.test.ts > StorageService > uploadFile > uploads file successfully
   → StorageService is not a constructor
 × src/services/__tests__/storage.service.test.ts > StorageService > deleteFile > deletes file successfully
   → StorageService is not a constructor
 × src/services/__tests__/storage.service.test.ts > StorageService > listFiles > lists files successfully
   → StorageService is not a constructor
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > formats USD currency
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > handles zero
 × src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > handles negative values
   → expected '$-100.00' to be '-$100.00' // Object.is equality
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatDate > formats date string
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatDate > handles invalid date
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatNumber > formats large numbers with commas
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatNumber > handles decimals
 ✓ src/lib/__tests__/formatters.test.ts > formatters > formatPercentage > formats percentage
 ✓ src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > initializes cache manager
 × src/lib/__tests__/validation.test.ts > validation utilities > validateEmail > validates correct email
   → validateEmail is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validateEmail > rejects invalid email
   → validateEmail is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validatePhone > validates US phone number
   → validatePhone is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validatePhone > rejects invalid phone
   → validatePhone is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validateURL > validates correct URL
   → validateURL is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validateURL > rejects invalid URL
   → validateURL is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validateRequired > validates non-empty value
   → validateRequired is not a function
 × src/lib/__tests__/validation.test.ts > validation utilities > validateRequired > rejects empty value
   → validateRequired is not a function
 ✓ src/components/__tests__/AIValuationModal.test.tsx > AIValuationModal Tests > renders valuation modal
 ✓ src/components/__tests__/AIValuationModal.test.tsx > AIValuationModal Tests > handles modal close
 ✓ src/components/__tests__/PhotoCapture.test.tsx > PhotoCapture > renders photo capture dialog
 ✓ src/components/__tests__/PhotoCapture.test.tsx > PhotoCapture > calls onClose when close button clicked
 ✓ src/components/__tests__/PhotoCapture.test.tsx > PhotoCapture > initializes camera on mount
 ✓ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > validateUPC > validates correct UPC-A codes
 ✓ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > validateUPC > rejects invalid UPC codes
 ✓ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > validateUPC > rejects UPC with wrong check digit
 ✓ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > formatBarcode > formats barcode with spaces
 ✓ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > formatBarcode > handles empty input
 ✓ src/utils/__tests__/barcodeUtils.test.ts > barcodeUtils > generateCheckDigit > generates correct check digit
 ✓ src/services/__tests__/reports.service.test.ts > ReportService > should generate inventory summary report
 ✓ src/services/__tests__/reports.service.test.ts > ReportService > should generate category breakdown report
 ✓ src/services/__tests__/reports.service.test.ts > ReportService > should generate value report
 ✓ src/services/security/__tests__/SecurityService.test.ts > SecurityService > logSecurityEvent > logs security event successfully
 ✓ src/services/security/__tests__/SecurityService.test.ts > SecurityService > checkPermission > checks user permission
 × src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > fetches inventory items
   → apiService.getItems is not a function
 × src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > creates new item via API
   → apiService.createItem is not a function
 ✓ src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > handles API errors
 ✓ src/hooks/__tests__/useInventoryFilters.enhanced.test.ts > useInventoryFilters Enhanced > handles complex filter combinations
 ✓ src/hooks/__tests__/useInventoryFilters.enhanced.test.ts > useInventoryFilters Enhanced > persists filter state
 × src/hooks/__tests__/useSubscription.test.ts > useSubscription > returns subscription data
   → expected undefined to be 'pro' // Object.is equality
 × src/hooks/__tests__/useSubscription.test.ts > useSubscription > checks feature availability
   → expected Promise{…} to be true // Object.is equality
 × src/hooks/__tests__/useSubscription.test.ts > useSubscription > returns tier limits
   → expected undefined to be defined
stderr | src/components/__tests__/ItemCard.test.tsx > ItemCard Component > renders item information
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 × src/components/__tests__/ItemCard.test.tsx > ItemCard Component > renders item information
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 × src/components/__tests__/ItemCard.test.tsx > ItemCard Component > accepts callback functions
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
stderr | src/components/__tests__/ItemCard.test.tsx > ItemCard Component > accepts callback functions
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/DatabaseMigrationSystem.test.tsx > DatabaseMigrationSystem > renders migration system
Failed to get migrations: TypeError: __vite_ssr_import_0__.supabase.from(...).select(...).limit is not a function
    at MigrationExecutor.createMigrationsTable (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/MigrationExecutor.tsx:17:8)
    at MigrationExecutor.getAppliedMigrations (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/MigrationExecutor.tsx:29:18)
    at checkMigrationStatus (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:41:50)
    at /Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:35:5
    at commitHookEffectListMount (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
Warning: An update to DatabaseMigrationSystem inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at DatabaseMigrationSystem (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:29:61)
Warning: An update to DatabaseMigrationSystem inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at DatabaseMigrationSystem (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:29:61)

stderr | src/components/__tests__/DatabaseMigrationSystem.test.tsx > DatabaseMigrationSystem > handles migration operations
Failed to get migrations: TypeError: __vite_ssr_import_0__.supabase.from(...).select(...).limit is not a function
    at MigrationExecutor.createMigrationsTable (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/MigrationExecutor.tsx:17:8)
    at MigrationExecutor.getAppliedMigrations (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/MigrationExecutor.tsx:29:18)
    at checkMigrationStatus (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:41:50)
    at /Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:35:5
    at commitHookEffectListMount (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
Warning: An update to DatabaseMigrationSystem inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at DatabaseMigrationSystem (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:29:61)
Warning: An update to DatabaseMigrationSystem inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at DatabaseMigrationSystem (/Users/ghogue/Desktop/CaliberVaultII/src/components/database/DatabaseMigrationSystem.tsx:29:61)

 ✓ src/components/__tests__/DatabaseMigrationSystem.test.tsx > DatabaseMigrationSystem > renders migration system
 ✓ src/components/__tests__/DatabaseMigrationSystem.test.tsx > DatabaseMigrationSystem > handles migration operations
 × src/lib/__tests__/errorHandler.test.ts > ErrorHandler > handles errors gracefully
   → handleError is not a function
 × src/lib/__tests__/errorHandler.test.ts > ErrorHandler > logs errors
   → ErrorHandler is not a constructor
 × src/lib/__tests__/errorHandler.test.ts > ErrorHandler > categorizes errors
   → ErrorHandler is not a constructor
stderr | src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > renders feature guard
Error: Uncaught [Error: useNavigate() may be used only in the context of a <Router> component.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useNavigate() may be used only in the context of a <Router> component.
    at Object.invariant [as UNSAFE_invariant] (/Users/ghogue/Desktop/CaliberVaultII/node_modules/@remix-run/router/history.ts:494:11)
    at useNavigateUnstable (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:189:3)
    at Proxy.useNavigate (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:185:46)
    at FeatureGuard (/Users/ghogue/Desktop/CaliberVaultII/src/components/subscription/FeatureGuard.tsx:23:20)
    at renderWithHooks (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Error: Uncaught [Error: useNavigate() may be used only in the context of a <Router> component.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useNavigate() may be used only in the context of a <Router> component.
    at Object.invariant [as UNSAFE_invariant] (/Users/ghogue/Desktop/CaliberVaultII/node_modules/@remix-run/router/history.ts:494:11)
    at useNavigateUnstable (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:189:3)
    at Proxy.useNavigate (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:185:46)
    at FeatureGuard (/Users/ghogue/Desktop/CaliberVaultII/src/components/subscription/FeatureGuard.tsx:23:20)
    at renderWithHooks (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <FeatureGuard> component:

    at FeatureGuard (/Users/ghogue/Desktop/CaliberVaultII/src/components/subscription/FeatureGuard.tsx:18:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > enforces tier limits
Error: Uncaught [Error: useNavigate() may be used only in the context of a <Router> component.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useNavigate() may be used only in the context of a <Router> component.
    at Object.invariant [as UNSAFE_invariant] (/Users/ghogue/Desktop/CaliberVaultII/node_modules/@remix-run/router/history.ts:494:11)
    at useNavigateUnstable (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:189:3)
    at Proxy.useNavigate (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:185:46)
    at FeatureGuard (/Users/ghogue/Desktop/CaliberVaultII/src/components/subscription/FeatureGuard.tsx:23:20)
    at renderWithHooks (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Error: Uncaught [Error: useNavigate() may be used only in the context of a <Router> component.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useNavigate() may be used only in the context of a <Router> component.
    at Object.invariant [as UNSAFE_invariant] (/Users/ghogue/Desktop/CaliberVaultII/node_modules/@remix-run/router/history.ts:494:11)
    at useNavigateUnstable (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:189:3)
    at Proxy.useNavigate (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/lib/hooks.tsx:185:46)
    at FeatureGuard (/Users/ghogue/Desktop/CaliberVaultII/src/components/subscription/FeatureGuard.tsx:23:20)
    at renderWithHooks (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <FeatureGuard> component:

    at FeatureGuard (/Users/ghogue/Desktop/CaliberVaultII/src/components/subscription/FeatureGuard.tsx:18:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 × src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > renders feature guard
   → useNavigate() may be used only in the context of a <Router> component.
 × src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > enforces tier limits
   → useNavigate() may be used only in the context of a <Router> component.
 ✓ src/hooks/__tests__/usePullToRefresh.test.ts > usePullToRefresh > initializes pull to refresh
 ✓ src/hooks/__tests__/usePullToRefresh.test.ts > usePullToRefresh > handles refresh callback
 ✓ src/hooks/__tests__/usePullToRefresh.test.ts > usePullToRefresh > tracks pull state
stdout | src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > handles offline mode
[SyncService] Sync already in progress

stdout | src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > queues offline changes
[SyncService] Sync already in progress

 ✓ src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > initializes sync state
 ✓ src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > handles offline mode
 ✓ src/hooks/__tests__/useOfflineSync.test.ts > useOfflineSync > queues offline changes
stdout | SyncService.processQueue (/Users/ghogue/Desktop/CaliberVaultII/src/services/sync/SyncService.ts:57:13)
[SyncService] Sync complete: { success: 0, failed: 0, conflicts: 0 }

 ✓ src/components/__tests__/SyncStatusDashboard.test.tsx > SyncStatusDashboard > renders sync dashboard
 ✓ src/components/__tests__/SyncStatusDashboard.test.tsx > SyncStatusDashboard > displays sync status
 ✓ src/components/__tests__/EnhancedBulkImport.test.tsx > EnhancedBulkImport > renders bulk import component
 ✓ src/components/__tests__/EnhancedBulkImport.test.tsx > EnhancedBulkImport > handles file upload
 ✓ src/hooks/__tests__/useSwipeGesture.test.ts > useSwipeGesture > initializes swipe gesture
 ✓ src/hooks/__tests__/useSwipeGesture.test.ts > useSwipeGesture > handles swipe callback
 ✓ src/hooks/__tests__/useSwipeGesture.test.ts > useSwipeGesture > detects swipe direction
stderr | src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > renders inventory dashboard
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at InventoryOperations.test.tsx:18.
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19193:28)
    at updateHostRoot (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19912:5)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21654:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)

stderr | src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > handles inventory operations
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at InventoryOperations.test.tsx:23.
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19193:28)
    at updateHostRoot (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19912:5)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21654:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)

 × src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > renders inventory dashboard
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
 × src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > handles inventory operations
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
 ✓ src/components/__tests__/SmartInstallPrompt.test.tsx > SmartInstallPrompt > renders install prompt
 × src/components/__tests__/SmartInstallPrompt.test.tsx > SmartInstallPrompt > handles PWA install
   → expected null to be truthy
 ✓ src/components/__tests__/FeedbackSystem.test.tsx > FeedbackSystem > renders feedback modal
 ✓ src/components/__tests__/FeedbackSystem.test.tsx > FeedbackSystem > handles feedback submission
 ✓ src/components/__tests__/MobileBarcodeScanner.test.tsx > MobileBarcodeScanner > renders barcode scanner
 ✓ src/components/__tests__/MobileBarcodeScanner.test.tsx > MobileBarcodeScanner > handles scan callback
 ✓ src/__tests__/smoke.test.ts > smoke > runs
stderr | src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render when open
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should not render when closed
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > renders modal with all features
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > handles form validation
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render modal component
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > supports all categories
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check your code at testUtils.tsx:22.
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)
Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
    at createFiberFromTypeAndProps (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
    at createFiberFromElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
    at reconcileSingleElement (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
    at reconcileChildFibers (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
    at reconcileChildren (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
    at updateContextProvider (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
    at beginWork (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
    at HTMLUnknownElement.callCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
The above error occurred in the <Location.Provider> component:

    at Router (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at BrowserRouter (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-router-dom/dist/umd/react-router-dom.development.js:695:7)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at AllTheProviders (/Users/ghogue/Desktop/CaliberVaultII/src/test/testUtils.tsx:17:28)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 × src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render when open
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 × src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should not render when closed
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 × src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render modal component
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 × src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > renders modal with all features
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 × src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > handles form validation
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 × src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > supports all categories
   → Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
stderr | src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > renders filter panel
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-use-size/src/use-size.tsx:14:30
    at commitHookEffectListMount (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitLayoutEffectOnFiber (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:23312:15)
    at commitLayoutMountEffects_complete (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24727:9)
    at commitLayoutEffects_begin (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24713:7)
    at commitLayoutEffects (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24651:3)
    at commitRootImpl (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26862:5)
    at commitRoot (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
    at performSyncWorkOnRoot (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26156:3)
    at flushSyncCallbacks (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:12042:22)
The above error occurred in the <ForwardRef> component:

    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:400:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:388:42
    at span
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-primitive/dist/index.mjs:28:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:285:7
    at Provider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:151:7
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-slot/dist/index.mjs:33:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-slot/dist/index.mjs:9:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/dist/index.mjs:27:15
    at Provider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at CollectionProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/dist/index.mjs:17:13)
    at Provider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:33:7
    at /Users/ghogue/Desktop/CaliberVaultII/src/components/ui/slider.tsx:9:52
    at div
    at div
    at FilterPanel (/Users/ghogue/Desktop/CaliberVaultII/src/components/inventory/FilterPanel.tsx:23:24)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/Users/ghogue/Desktop/CaliberVaultII/src/components/__tests__/FilterPanel.test.tsx:24:20)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 × src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > renders filter panel
   → ResizeObserver is not defined
 × src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > accepts filter changes
   → ResizeObserver is not defined
stderr | src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > accepts filter changes
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/ghogue/Desktop/CaliberVaultII/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-use-size/src/use-size.tsx:14:30
    at commitHookEffectListMount (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitLayoutEffectOnFiber (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:23312:15)
    at commitLayoutMountEffects_complete (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24727:9)
    at commitLayoutEffects_begin (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24713:7)
    at commitLayoutEffects (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:24651:3)
    at commitRootImpl (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26862:5)
    at commitRoot (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
    at performSyncWorkOnRoot (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:26156:3)
    at flushSyncCallbacks (/Users/ghogue/Desktop/CaliberVaultII/node_modules/react-dom/cjs/react-dom.development.js:12042:22)
The above error occurred in the <ForwardRef> component:

    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:400:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:388:42
    at span
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-primitive/dist/index.mjs:28:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:285:7
    at Provider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:151:7
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-slot/dist/index.mjs:33:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-slot/dist/index.mjs:9:13
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/dist/index.mjs:27:15
    at Provider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at CollectionProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-collection/dist/index.mjs:17:13)
    at Provider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-context/dist/index.mjs:27:15)
    at file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@radix-ui/react-slider/dist/index.mjs:33:7
    at /Users/ghogue/Desktop/CaliberVaultII/src/components/ui/slider.tsx:9:52
    at div
    at div
    at FilterPanel (/Users/ghogue/Desktop/CaliberVaultII/src/components/inventory/FilterPanel.tsx:23:24)
    at QueryClientProvider (file:///Users/ghogue/Desktop/CaliberVaultII/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/Users/ghogue/Desktop/CaliberVaultII/src/components/__tests__/FilterPanel.test.tsx:24:20)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 × src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > caches barcode data 10002ms
   → Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 × src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > retrieves cached data 10000ms
   → Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 × src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > returns null for non-existent barcode 10000ms
   → Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 × src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > clears all cache 10000ms
   → Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".

⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/83]⎯

⎯⎯⎯⎯⎯⎯ Failed Tests 82 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > renders modal with all features
 FAIL  src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > handles form validation
 FAIL  src/components/__tests__/AddItemModal.enhanced.test.tsx > AddItemModal Enhanced > supports all categories
 FAIL  src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render when open
 FAIL  src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should not render when closed
 FAIL  src/components/__tests__/AddItemModal.test.tsx > AddItemModal > should render modal component
 FAIL  src/components/__tests__/ItemCard.test.tsx > ItemCard Component > renders item information
 FAIL  src/components/__tests__/ItemCard.test.tsx > ItemCard Component > accepts callback functions
Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

Check the render method of `AllTheProviders`.
 ❯ createFiberFromTypeAndProps node_modules/react-dom/cjs/react-dom.development.js:28478:17
 ❯ createFiberFromElement node_modules/react-dom/cjs/react-dom.development.js:28504:15
 ❯ reconcileSingleElement node_modules/react-dom/cjs/react-dom.development.js:13986:23
 ❯ reconcileChildFibers node_modules/react-dom/cjs/react-dom.development.js:14044:35
 ❯ reconcileChildren node_modules/react-dom/cjs/react-dom.development.js:19186:28
 ❯ updateContextProvider node_modules/react-dom/cjs/react-dom.development.js:21193:3
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21688:14
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/83]⎯

 FAIL  src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > renders filter panel
 FAIL  src/components/__tests__/FilterPanel.test.tsx > FilterPanel Component > accepts filter changes
ReferenceError: ResizeObserver is not defined
 ❯ node_modules/@radix-ui/react-use-size/src/use-size.tsx:14:30
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitLayoutEffectOnFiber node_modules/react-dom/cjs/react-dom.development.js:23312:15
 ❯ commitLayoutMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24727:9
 ❯ commitLayoutEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24713:7
 ❯ commitLayoutEffects node_modules/react-dom/cjs/react-dom.development.js:24651:3
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26862:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5
 ❯ performSyncWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:26156:3
 ❯ flushSyncCallbacks node_modules/react-dom/cjs/react-dom.development.js:12042:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/83]⎯

 FAIL  src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > renders inventory dashboard
 FAIL  src/components/__tests__/InventoryOperations.test.tsx > InventoryOperations > handles inventory operations
Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
 ❯ createFiberFromTypeAndProps node_modules/react-dom/cjs/react-dom.development.js:28478:17
 ❯ createFiberFromElement node_modules/react-dom/cjs/react-dom.development.js:28504:15
 ❯ reconcileSingleElement node_modules/react-dom/cjs/react-dom.development.js:13986:23
 ❯ reconcileChildFibers node_modules/react-dom/cjs/react-dom.development.js:14044:35
 ❯ reconcileChildren node_modules/react-dom/cjs/react-dom.development.js:19193:28
 ❯ updateHostRoot node_modules/react-dom/cjs/react-dom.development.js:19912:5
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21654:14
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/83]⎯

 FAIL  src/components/__tests__/SmartInstallPrompt.test.tsx > SmartInstallPrompt > handles PWA install
AssertionError: expected null to be truthy

- Expected: 
true

+ Received: 
null

 ❯ src/components/__tests__/SmartInstallPrompt.test.tsx:23:44
     21|   it('handles PWA install', () => {
     22|     const { container } = render(<SmartInstallPrompt />);
     23|     expect(container.querySelector('div')).toBeTruthy();
       |                                            ^
     24|   });
     25| });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/83]⎯

 FAIL  src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > renders feature guard
 FAIL  src/components/__tests__/TierEnforcement.test.tsx > TierEnforcement > enforces tier limits
Error: useNavigate() may be used only in the context of a <Router> component.
 ❯ Object.invariant [as UNSAFE_invariant] node_modules/@remix-run/router/history.ts:494:11
 ❯ useNavigateUnstable node_modules/react-router/lib/hooks.tsx:189:3
 ❯ Proxy.useNavigate node_modules/react-router/lib/hooks.tsx:185:46
 ❯ FeatureGuard src/components/subscription/FeatureGuard.tsx:23:20
     21| }: FeatureGuardProps) {
     22|   const subscription = useSubscription();
     23|   const navigate = useNavigate();
       |                    ^
     24|   const [hasAccess, setHasAccess] = useState<boolean | null>(null);
     25| 
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/83]⎯

 FAIL  src/hooks/__tests__/useSubscription.test.ts > useSubscription > returns subscription data
AssertionError: expected undefined to be 'pro' // Object.is equality

- Expected: 
"pro"

+ Received: 
undefined

 ❯ src/hooks/__tests__/useSubscription.test.ts:18:33
     16|   it('returns subscription data', () => {
     17|     const { result } = renderHook(() => useSubscription());
     18|     expect(result.current.tier).toBe('pro');
       |                                 ^
     19|     expect(result.current.status).toBe('active');
     20|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/83]⎯

 FAIL  src/hooks/__tests__/useSubscription.test.ts > useSubscription > checks feature availability
AssertionError: expected Promise{…} to be true // Object.is equality

- Expected: 
true

+ Received: 
Promise {}

 ❯ src/hooks/__tests__/useSubscription.test.ts:24:61
     22|   it('checks feature availability', () => {
     23|     const { result } = renderHook(() => useSubscription());
     24|     expect(result.current.hasFeature('advanced_analytics')).toBe(true);
       |                                                             ^
     25|     expect(result.current.hasFeature('nonexistent_feature')).toBe(fals…
     26|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/83]⎯

 FAIL  src/hooks/__tests__/useSubscription.test.ts > useSubscription > returns tier limits
AssertionError: expected undefined to be defined
 ❯ src/hooks/__tests__/useSubscription.test.ts:30:35
     28|   it('returns tier limits', () => {
     29|     const { result } = renderHook(() => useSubscription());
     30|     expect(result.current.limits).toBeDefined();
       |                                   ^
     31|     expect(result.current.limits.maxItems).toBeGreaterThan(0);
     32|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/83]⎯

 FAIL  src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > caches barcode data
 FAIL  src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > retrieves cached data
 FAIL  src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > returns null for non-existent barcode
 FAIL  src/lib/__tests__/barcodeCache.test.ts > BarcodeCacheManager > clears all cache
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/83]⎯

 FAIL  src/lib/__tests__/errorHandler.test.ts > ErrorHandler > handles errors gracefully
TypeError: handleError is not a function
 ❯ src/lib/__tests__/errorHandler.test.ts:15:20
     13|   it('handles errors gracefully', () => {
     14|     const error = new Error('Test error');
     15|     const result = handleError(error);
       |                    ^
     16|     expect(result).toBeDefined();
     17|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/83]⎯

 FAIL  src/lib/__tests__/errorHandler.test.ts > ErrorHandler > logs errors
TypeError: ErrorHandler is not a constructor
 ❯ src/lib/__tests__/errorHandler.test.ts:20:26
     18| 
     19|   it('logs errors', () => {
     20|     const errorHandler = new ErrorHandler();
       |                          ^
     21|     errorHandler.log('Test error', { context: 'test' });
     22|     expect(true).toBe(true);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/83]⎯

 FAIL  src/lib/__tests__/errorHandler.test.ts > ErrorHandler > categorizes errors
TypeError: ErrorHandler is not a constructor
 ❯ src/lib/__tests__/errorHandler.test.ts:26:26
     24| 
     25|   it('categorizes errors', () => {
     26|     const errorHandler = new ErrorHandler();
       |                          ^
     27|     const category = errorHandler.categorize(new Error('Database error…
     28|     expect(category).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/83]⎯

 FAIL  src/lib/__tests__/formatters.test.ts > formatters > formatCurrency > handles negative values
AssertionError: expected '$-100.00' to be '-$100.00' // Object.is equality

Expected: "-$100.00"
Received: "$-100.00"

 ❯ src/lib/__tests__/formatters.test.ts:15:36
     13| 
     14|     it('handles negative values', () => {
     15|       expect(formatCurrency(-100)).toBe('-$100.00');
       |                                    ^
     16|     });
     17|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validateEmail > validates correct email
TypeError: validateEmail is not a function
 ❯ src/lib/__tests__/validation.test.ts:7:14
      5|   describe('validateEmail', () => {
      6|     it('validates correct email', () => {
      7|       expect(validateEmail('test@example.com')).toBe(true);
       |              ^
      8|     });
      9| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validateEmail > rejects invalid email
TypeError: validateEmail is not a function
 ❯ src/lib/__tests__/validation.test.ts:11:14
      9| 
     10|     it('rejects invalid email', () => {
     11|       expect(validateEmail('invalid')).toBe(false);
       |              ^
     12|       expect(validateEmail('test@')).toBe(false);
     13|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validatePhone > validates US phone number
TypeError: validatePhone is not a function
 ❯ src/lib/__tests__/validation.test.ts:18:14
     16|   describe('validatePhone', () => {
     17|     it('validates US phone number', () => {
     18|       expect(validatePhone('555-123-4567')).toBe(true);
       |              ^
     19|       expect(validatePhone('(555) 123-4567')).toBe(true);
     20|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validatePhone > rejects invalid phone
TypeError: validatePhone is not a function
 ❯ src/lib/__tests__/validation.test.ts:23:14
     21| 
     22|     it('rejects invalid phone', () => {
     23|       expect(validatePhone('123')).toBe(false);
       |              ^
     24|     });
     25|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validateURL > validates correct URL
TypeError: validateURL is not a function
 ❯ src/lib/__tests__/validation.test.ts:29:14
     27|   describe('validateURL', () => {
     28|     it('validates correct URL', () => {
     29|       expect(validateURL('https://example.com')).toBe(true);
       |              ^
     30|     });
     31| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validateURL > rejects invalid URL
TypeError: validateURL is not a function
 ❯ src/lib/__tests__/validation.test.ts:33:14
     31| 
     32|     it('rejects invalid URL', () => {
     33|       expect(validateURL('not a url')).toBe(false);
       |              ^
     34|     });
     35|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validateRequired > validates non-empty value
TypeError: validateRequired is not a function
 ❯ src/lib/__tests__/validation.test.ts:39:14
     37|   describe('validateRequired', () => {
     38|     it('validates non-empty value', () => {
     39|       expect(validateRequired('test')).toBe(true);
       |              ^
     40|     });
     41| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/83]⎯

 FAIL  src/lib/__tests__/validation.test.ts > validation utilities > validateRequired > rejects empty value
TypeError: validateRequired is not a function
 ❯ src/lib/__tests__/validation.test.ts:43:14
     41| 
     42|     it('rejects empty value', () => {
     43|       expect(validateRequired('')).toBe(false);
       |              ^
     44|       expect(validateRequired(null)).toBe(false);
     45|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/83]⎯

 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates UPC-A format (12 digits)
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates UPC-E format (13 digits)
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > rejects invalid UPC formats
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > validates EAN-13 format
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > rejects invalid EAN formats
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Barcode Validation > detects barcode types correctly
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Offline Mode > handles offline barcode lookup gracefully
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Offline Mode > returns cache miss when barcode not cached
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > API Usage Tracking > tracks API call count
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > API Usage Tracking > resets API counter
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Cache Management > gets cache statistics
 FAIL  src/services/__tests__/barcode.service.comprehensive.test.ts > BarcodeService - Comprehensive Tests > Cache Management > clears cache
TypeError: BarcodeService.getInstance is not a function
 ❯ src/services/__tests__/barcode.service.comprehensive.test.ts:30:30
     28| 
     29|   beforeEach(() => {
     30|     service = BarcodeService.getInstance();
       |                              ^
     31|     vi.clearAllMocks();
     32|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/83]⎯

 FAIL  src/services/__tests__/categoryServices.test.ts > FirearmsService > should create a firearm using createFirearm method
Error: Failed to create inventory item: undefined
 ❯ FirearmsService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/83]⎯

 FAIL  src/services/__tests__/categoryServices.test.ts > FirearmsService > should update a firearm using updateFirearm method
TypeError: supabase.from(...).update is not a function
 ❯ withDatabaseErrorHandling.operation src/services/base/BaseCategoryServiceEnhanced.ts:76:42
     74|     if (Object.keys(baseData).length > 0) {
     75|       const invResult = await withDatabaseErrorHandling(
     76|         () => supabase.from('inventory').update(baseData).eq('id', id),
       |                                          ^
     77|         {
     78|           operation: 'update',
 ❯ Proxy.<anonymous> src/services/__tests__/categoryServices.test.ts:19:66
 ❯ FirearmsService.update src/services/base/BaseCategoryServiceEnhanced.ts:75:31
 ❯ FirearmsService.updateFirearm src/services/category/FirearmsService.ts:71:17
 ❯ src/services/__tests__/categoryServices.test.ts:54:42

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/83]⎯

 FAIL  src/services/__tests__/categoryServices.test.ts > AmmunitionService > should create ammunition using createAmmunition method
Error: Failed to create inventory item: undefined
 ❯ AmmunitionService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/83]⎯

 FAIL  src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves firearm item successfully
TypeError: Cannot read properties of null (reading 'id')
 ❯ InventoryService.saveItem src/services/inventory.service.ts:46:53
     44|       }
     45| 
     46|       await this.saveDetails(item.category, invData.id, item, userId);
       |                                                     ^
     47|       return invData;
     48|     } catch (error: any) {
 ❯ src/services/__tests__/inventory.service.enhanced.test.ts:66:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/83]⎯

 FAIL  src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > saveItem > saves ammunition item successfully
TypeError: Cannot read properties of null (reading 'id')
 ❯ InventoryService.saveItem src/services/inventory.service.ts:46:53
     44|       }
     45| 
     46|       await this.saveDetails(item.category, invData.id, item, userId);
       |                                                     ^
     47|       return invData;
     48|     } catch (error: any) {
 ❯ src/services/__tests__/inventory.service.enhanced.test.ts:81:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/83]⎯

 FAIL  src/services/__tests__/inventory.service.enhanced.test.ts > InventoryService - Enhanced Tests > getItems > retrieves all items for user
AssertionError: expected [] to deeply equal [ …(2) ]

- Expected
+ Received

- Array [
-   Object {
-     "category": "firearms",
-     "id": "1",
-     "name": "Item 1",
-   },
-   Object {
-     "category": "ammunition",
-     "id": "2",
-     "name": "Item 2",
-   },
- ]
+ Array []

 ❯ src/services/__tests__/inventory.service.enhanced.test.ts:109:22
    107| 
    108|       const result = await inventoryService.getItems('user123');
    109|       expect(result).toEqual(mockItems);
       |                      ^
    110|     });
    111| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/83]⎯

 FAIL  src/services/__tests__/reference.service.test.ts > ReferenceDataService > addManufacturer > adds new manufacturer
AssertionError: promise rejected "TypeError: supabase…" instead of resolving
 ❯ src/services/__tests__/reference.service.test.ts:46:7
     44|       await expect(
     45|         service.addManufacturer({ name: 'Test Mfg' })
     46|       ).resolves.not.toThrow();
       |       ^
     47|     });
     48|   });

Caused by: TypeError: supabase.from(...).insert(...).select is not a function
 ❯ ReferenceDataService.addManufacturer src/services/reference/ReferenceDataService.ts:99:8
 ❯ src/services/__tests__/reference.service.test.ts:45:17

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/83]⎯

 FAIL  src/services/__tests__/storage.service.test.ts > StorageService > uploadFile > uploads file successfully
 FAIL  src/services/__tests__/storage.service.test.ts > StorageService > deleteFile > deletes file successfully
 FAIL  src/services/__tests__/storage.service.test.ts > StorageService > listFiles > lists files successfully
TypeError: StorageService is not a constructor
 ❯ src/services/__tests__/storage.service.test.ts:21:15
     19| 
     20|   beforeEach(() => {
     21|     service = new StorageService();
       |               ^
     22|     vi.clearAllMocks();
     23|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/83]⎯

 FAIL  src/utils/__tests__/csvParser.test.ts > csvParser > generateCSVTemplate > generates template with headers
TypeError: generateCSVTemplate is not a function
 ❯ src/utils/__tests__/csvParser.test.ts:33:24
     31|   describe('generateCSVTemplate', () => {
     32|     it('generates template with headers', () => {
     33|       const template = generateCSVTemplate(['name', 'quantity', 'price…
       |                        ^
     34|       expect(template).toContain('name');
     35|       expect(template).toContain('quantity');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/83]⎯

 FAIL  src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > validates row with all required fields
TypeError: Cannot convert undefined or null to object
 ❯ src/utils/csvValidator.ts:20:29
     18|   // Check required fields
     19|   requiredFields.forEach(field => {
     20|     const csvField = Object.keys(fieldMapping).find(k => fieldMapping[…
       |                             ^
     21|     if (!csvField || !row[csvField]?.trim()) {
     22|       warnings.push({
 ❯ Module.validateCSVRow src/utils/csvValidator.ts:19:18
 ❯ src/utils/__tests__/csvValidator.test.ts:8:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/83]⎯

 FAIL  src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > rejects row with missing required fields
TypeError: Cannot convert undefined or null to object
 ❯ src/utils/csvValidator.ts:20:29
     18|   // Check required fields
     19|   requiredFields.forEach(field => {
     20|     const csvField = Object.keys(fieldMapping).find(k => fieldMapping[…
       |                             ^
     21|     if (!csvField || !row[csvField]?.trim()) {
     22|       warnings.push({
 ❯ Module.validateCSVRow src/utils/csvValidator.ts:19:18
 ❯ src/utils/__tests__/csvValidator.test.ts:14:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/83]⎯

 FAIL  src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVRow > validates numeric fields
AssertionError: expected undefined to be false // Object.is equality

- Expected: 
false

+ Received: 
undefined

 ❯ src/utils/__tests__/csvValidator.test.ts:22:28
     20|       const row = { name: 'Test', quantity: 'abc' };
     21|       const result = validateCSVRow(row, ['name', 'quantity'], { quant…
     22|       expect(result.valid).toBe(false);
       |                            ^
     23|     });
     24|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/83]⎯

 FAIL  src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVHeaders > validates correct headers
TypeError: validateCSVHeaders is not a function
 ❯ src/utils/__tests__/csvValidator.test.ts:29:22
     27|     it('validates correct headers', () => {
     28|       const headers = ['name', 'quantity', 'category'];
     29|       const result = validateCSVHeaders(headers, ['name', 'quantity']);
       |                      ^
     30|       expect(result.valid).toBe(true);
     31|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/83]⎯

 FAIL  src/utils/__tests__/csvValidator.test.ts > csvValidator > validateCSVHeaders > rejects missing required headers
TypeError: validateCSVHeaders is not a function
 ❯ src/utils/__tests__/csvValidator.test.ts:35:22
     33|     it('rejects missing required headers', () => {
     34|       const headers = ['name'];
     35|       const result = validateCSVHeaders(headers, ['name', 'quantity']);
       |                      ^
     36|       expect(result.valid).toBe(false);
     37|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/83]⎯

 FAIL  src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > fetches inventory items via API
TypeError: apiService.getAll is not a function
 ❯ src/test/integration/api.test.ts:26:39
     24|       } as any);
     25| 
     26|       const result = await apiService.getAll();
       |                                       ^
     27|       expect(result).toEqual(mockData);
     28|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/83]⎯

 FAIL  src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > creates item via API
AssertionError: expected { success: false, …(1) } to deeply equal { name: 'New Item', …(1) }

- Expected
+ Received

  Object {
-   "category": "firearms",
-   "name": "New Item",
+   "error": "Failed to create inventory item: Cannot read properties of undefined (reading 'insert')",
+   "success": false,
  }

 ❯ src/test/integration/api.test.ts:40:22
     38| 
     39|       const result = await apiService.create(newItem);
     40|       expect(result).toEqual(newItem);
       |                      ^
     41|     });
     42| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/83]⎯

 FAIL  src/test/integration/api.test.ts > API Integration Tests > REST API Endpoints > handles API errors gracefully
TypeError: apiService.getAll is not a function
 ❯ src/test/integration/api.test.ts:51:31
     49|       } as any);
     50| 
     51|       await expect(apiService.getAll()).rejects.toThrow();
       |                               ^
     52|     });
     53|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/83]⎯

 FAIL  src/test/integration/api.test.ts > API Integration Tests > Real-time Subscriptions > subscribes to inventory changes
TypeError: Cannot read properties of undefined (reading 'mockReturnValue')
 ❯ src/test/integration/api.test.ts:66:33
     64|       };
     65| 
     66|       vi.mocked(supabase.channel).mockReturnValue(mockSubscription as …
       |                                 ^
     67| 
     68|       await apiService.subscribeToChanges(callback);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/83]⎯

 FAIL  src/test/integration/api.test.ts > API Integration Tests > Batch Operations > performs batch insert
TypeError: apiService.batchCreate is not a function
 ❯ src/test/integration/api.test.ts:84:39
     82|       } as any);
     83| 
     84|       const result = await apiService.batchCreate(items);
       |                                       ^
     85|       expect(result).toHaveLength(2);
     86|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/83]⎯

 FAIL  src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Firearms Service Integration > creates firearm with all fields
Error: Failed to create inventory item: Cannot read properties of undefined (reading 'insert')
 ❯ FirearmsService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 
 ❯ src/test/integration/comprehensive-categories.test.ts:37:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/83]⎯

 FAIL  src/test/integration/comprehensive-categories.test.ts > Comprehensive Category Integration Tests > Ammunition Service Integration > creates ammunition with specifications
Error: Failed to create inventory item: Cannot read properties of undefined (reading 'insert')
 ❯ AmmunitionService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 
 ❯ src/test/integration/comprehensive-categories.test.ts:61:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/83]⎯

 FAIL  src/test/integration/data-migration.test.ts > Data Migration Validation > should fetch all categories from categories table
AssertionError: expected 1 to be greater than or equal to 12
 ❯ src/test/integration/data-migration.test.ts:60:26
     58|     expect(error).toBeNull();
     59|     expect(data).toBeDefined();
     60|     expect(data?.length).toBeGreaterThanOrEqual(12);
       |                          ^
     61| 
     62|     const categoryNames = data?.map(c => c.name) || [];

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/83]⎯

 FAIL  src/test/integration/data-migration.test.ts > Data Migration Validation > should create ammunition item successfully
AssertionError: expected undefined to be 'Test Ammo' // Object.is equality

- Expected: 
"Test Ammo"

+ Received: 
undefined

 ❯ src/test/integration/data-migration.test.ts:87:24
     85|     expect(error).toBeNull();
     86|     expect(data).toBeDefined();
     87|     expect(data?.name).toBe('Test Ammo');
       |                        ^
     88| 
     89|     // Cleanup

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/83]⎯

 FAIL  src/test/integration/data-migration.test.ts > Data Migration Validation > should create magazine item successfully
AssertionError: expected undefined to be 30 // Object.is equality

- Expected: 
30

+ Received: 
undefined

 ❯ src/test/integration/data-migration.test.ts:112:28
    110|     expect(error).toBeNull();
    111|     expect(data).toBeDefined();
    112|     expect(data?.capacity).toBe(30);
       |                            ^
    113| 
    114|     // Cleanup

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/83]⎯

 FAIL  src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > fetches inventory items
TypeError: apiService.getItems is not a function
 ❯ src/services/api/__tests__/InventoryAPIService.test.ts:28:36
     26| 
     27|   it('fetches inventory items', async () => {
     28|     const items = await apiService.getItems();
       |                                    ^
     29|     expect(Array.isArray(items)).toBe(true);
     30|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/83]⎯

 FAIL  src/services/api/__tests__/InventoryAPIService.test.ts > InventoryAPIService > creates new item via API
TypeError: apiService.createItem is not a function
 ❯ src/services/api/__tests__/InventoryAPIService.test.ts:33:35
     31| 
     32|   it('creates new item via API', async () => {
     33|     const item = await apiService.createItem({ name: 'Test' });
       |                                   ^
     34|     expect(item).toBeDefined();
     35|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/83]⎯

 FAIL  src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should create ammunition with correct fields
Error: Failed to create inventory item: undefined
 ❯ AmmunitionService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 
 ❯ src/services/category/__tests__/AmmunitionService.test.ts:39:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/83]⎯

 FAIL  src/services/category/__tests__/AmmunitionService.test.ts > AmmunitionService > createAmmunition > should handle bullet weight
Error: Failed to create inventory item: undefined
 ❯ AmmunitionService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 
 ❯ src/services/category/__tests__/AmmunitionService.test.ts:46:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/83]⎯

 FAIL  src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should create firearm with correct fields
Error: Failed to create inventory item: undefined
 ❯ FirearmsService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 
 ❯ src/services/category/__tests__/FirearmsService.test.ts:40:20

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/83]⎯

 FAIL  src/services/category/__tests__/FirearmsService.test.ts > FirearmsService > should handle serial numbers
Error: Failed to create inventory item: undefined
 ❯ FirearmsService.create src/services/base/BaseCategoryServiceEnhanced.ts:37:13
     35| 
     36|     if (!invResult.success) {
     37|       throw new Error(`Failed to create inventory item: ${invResult.us…
       |             ^
     38|     }
     39| 
 ❯ src/services/category/__tests__/FirearmsService.test.ts:47:20

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/83]⎯

 FAIL  src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkCreate > should create multiple items successfully
Error: [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("../../category"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ❯ BatchOperationsService.getService src/services/inventory/BatchOperationsService.ts:208:19
    206|     const services: Record<ItemCategory, any> = {
    207|       firearms: firearmsService,
    208|       ammunition: ammunitionService,
       |                   ^
    209|       optics: opticsService,
    210|       magazines: magazinesService,
 ❯ BatchOperationsService.bulkCreate src/services/inventory/BatchOperationsService.ts:41:26
 ❯ src/services/inventory/__tests__/BatchOperationsService.test.ts:32:51

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/83]⎯

 FAIL  src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkCreate > should handle partial failures
Error: [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("../../category"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ❯ BatchOperationsService.getService src/services/inventory/BatchOperationsService.ts:208:19
    206|     const services: Record<ItemCategory, any> = {
    207|       firearms: firearmsService,
    208|       ammunition: ammunitionService,
       |                   ^
    209|       optics: opticsService,
    210|       magazines: magazinesService,
 ❯ BatchOperationsService.bulkCreate src/services/inventory/BatchOperationsService.ts:41:26
 ❯ src/services/inventory/__tests__/BatchOperationsService.test.ts:50:51

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/83]⎯

 FAIL  src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkDelete > should delete multiple items
Error: [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("../../category"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ❯ BatchOperationsService.getService src/services/inventory/BatchOperationsService.ts:208:19
    206|     const services: Record<ItemCategory, any> = {
    207|       firearms: firearmsService,
    208|       ammunition: ammunitionService,
       |                   ^
    209|       optics: opticsService,
    210|       magazines: magazinesService,
 ❯ BatchOperationsService.bulkDelete src/services/inventory/BatchOperationsService.ts:110:26
 ❯ src/services/inventory/__tests__/BatchOperationsService.test.ts:63:51

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/83]⎯

 FAIL  src/services/inventory/__tests__/BatchOperationsService.test.ts > BatchOperationsService > bulkDuplicate > should duplicate items
Error: [vitest] No "ammunitionService" export is defined on the "../../category" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("../../category"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ❯ BatchOperationsService.getService src/services/inventory/BatchOperationsService.ts:208:19
    206|     const services: Record<ItemCategory, any> = {
    207|       firearms: firearmsService,
    208|       ammunition: ammunitionService,
       |                   ^
    209|       optics: opticsService,
    210|       magazines: magazinesService,
 ❯ BatchOperationsService.bulkDuplicate src/services/inventory/BatchOperationsService.ts:176:26
 ❯ src/services/inventory/__tests__/BatchOperationsService.test.ts:81:51

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/83]⎯

 Test Files  26 failed | 23 passed (49)
      Tests  82 failed | 108 passed (190)
   Start at  16:23:29
   Duration  59.21s (transform 1.80s, setup 30.06s, collect 27.52s, tests 50.61s, environment 76.90s, prepare 5.82s)

Vitest failed to start; see above
